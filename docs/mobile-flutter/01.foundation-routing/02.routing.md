# Routing Modern dengan go_router (Navigasi Siap Industri)

---

## Pertanyaan Pemantik
- Pernahkah kalian membuka aplikasi lalu tiba-tiba kembali ke halaman login tanpa alasan jelas?  
- Menurut kalian, bagaimana aplikasi besar mengatur alur pindah halaman agar tidak berantakan?
> Diskusikan singkat selama 5 menit.

---
  
## 1. Apa itu Routing?
Routing adalah cara aplikasi menentukan:  
- halaman apa yang dibuka  
- kapan pindah halaman  
- bagaimana data dikirim antar halaman

Perumpamaan:  
Routing itu seperti peta jalan.    
Jika jalannya jelas, kita cepat sampai.   
Jika jalannya semrawut, kita akan tersesat dan memutar-mutar.

---

## 2. Masalah Navigasi Biasa di Aplikasi Besar
Navigator.push cocok untuk:  
- aplikasi kecil  
- latihan dasar

Namun di aplikasi besar:  
- sulit mengatur alur login  
- sulit mengontrol alur pengguna  
- kode navigasi tersebar di banyak file

Karena itu, aplikasi profesional menggunakan routing terpusat.

---

## 3. Kenapa Menggunakan go_router?
go_router adalah library routing resmi yang direkomendasikan Flutter.

Kelebihan:  
- routing terpusat  
- mudah dikontrol  
- siap untuk auth guard  
- cocok untuk aplikasi industri

---
## Persiapan
Gunakan project dari Pertemuan 1:  
**smk_product_app**

---

### 1. Menambahkan Dependency go_router
Buka file pubspec.yaml dan tambahkan:

```yaml
dependencies:
  flutter:
    sdk: flutter
  go_router: ^14.0.0
```

Jalankan perintah:
```bash
flutter pub get
```

---

### 2. Menyiapkan Struktur Routing
Buat folder dan file berikut:

```
lib/
 └── routes/
     └── app_router.dart
```

---

### 3. Membuat Konfigurasi Router
File: lib/routes/app_router.dart

```dart
import 'package:go_router/go_router.dart';
import '../pages/home_page.dart';
import '../pages/detail_page.dart';
import '../models/product.dart';

final GoRouter appRouter = GoRouter(
  routes: [
    GoRoute(
      path: '/',
      builder: (context, state) => const HomePage(),
    ),
    GoRoute(
      path: '/detail',
      builder: (context, state) {
        final product = state.extra as Product;
        return DetailPage(product: product);
      },
    ),
  ],
);
```

---

### 4. Mengubah main.dart
File: lib/main.dart

```dart
import 'package:flutter/material.dart';
import 'routes/app_router.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp.router(
      debugShowCheckedModeBanner: false,
      title: 'SMK Product App',
      routerConfig: appRouter,
      theme: ThemeData(
        useMaterial3: true,
      ),
    );
  }
}
```

---

### 5. Mengubah Navigasi di Home Page
File: lib/pages/home_page.dart

Ganti Navigator.push menjadi:

```dart
onTap: () {
  context.go('/detail', extra: item);
},
```

Tambahkan import:
```dart
import 'package:go_router/go_router.dart';
```

---

## Checklist Keberhasilan
- Tidak ada Navigator.push  
- Navigasi menggunakan go_router  
- Routing terpusat di app_router.dart  
- Data produk berhasil dikirim ke halaman detail

---

## Studi Kasus
Bayangkan aplikasi nantinya memiliki halaman login.

Diskusikan:  
1. Kapan pengguna boleh masuk ke Home?  
2. Kapan pengguna harus diarahkan ke Login?  
3. Apa yang terjadi jika routing tidak terpusat?

---

## Tugas

### Tugas Level Dasar
1. Tambahkan route baru: /profile
2. Buat halaman ProfilePage
3. Navigasikan dari Home ke Profile menggunakan go_router

---

### Tugas Level Industri
1. Buat halaman Not Found (404)
2. Jika route tidak ditemukan, tampilkan halaman tersebut
3. Pastikan seluruh routing tetap terpusat di app_router.dart

---

## Refleksi
Jawab secara singkat:  
1. Apa perbedaan navigasi lama dan routing modern?  
2. Mengapa routing sebaiknya dipusatkan?  
3. Mengapa routing dipelajari sebelum Provider?

---

## Penutup
Routing adalah pondasi alur aplikasi.  
Jika routing rapi, pengembangan fitur selanjutnya akan lebih mudah.

Pertemuan berikutnya akan membahas State Management menggunakan Provider.
